# archived_from:
# registry-query03-Orgs.rq

PREFIX adms:  <http://www.w3.org/ns/adms#>
PREFIX dcat:  <http://www.w3.org/ns/dcat#>
PREFIX dct:   <http://purl.org/dc/terms/>
PREFIX foaf:  <http://xmlns.com/foaf/0.1/>
PREFIX rdf:   <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs:  <http://www.w3.org/2000/01/rdf-schema#>
PREFIX skos:  <http://www.w3.org/2004/02/skos/core#>
PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>
PREFIX edenr: <https://eden-fidelis.eu/example/registry/>
PREFIX geon: <http://www.geonames.org/ontology#>
PREFIX org:   <http://www.w3.org/ns/org#>


# SELECT ?dataService ?prop ?val ?contact{
#     ?dataService a org:Organization;
#                  ?prop ?val .
# }

# ?org ?ds_title 
SELECT ?org ?org_name (COUNT(?ds) AS ?ds_count_by_org) {
    ?org a org:Organization ;
         foaf:name ?org_name .

    ?ds a dcat:DataService ;
        dct:title ?ds_title .      
 }
GROUP BY ?org ?org_name


# Following query: to get the 
# SELECT {
#     ?ds dct:title ?ds_title .
# }